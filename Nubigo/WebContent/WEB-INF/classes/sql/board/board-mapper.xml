<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>
	<entry key="selectListCount">
	SELECT COUNT(*) AS COUNT FROM BOARD WHERE DELETE_STATUS='N'
	</entry>
	<entry key="increaseCount">
    UPDATE BOARD SET COUNT=COUNT+1 WHERE BOARD_NO=? AND DELETE_STATUS='N'
    </entry>
	<entry key="selectBoard">
	SELECT BOARD_NO, BOARD_TITLE , BOARD_CONTENT , TO_CHAR(BOARD_DATE, 'YYYY/MM/DD HH24:MI:SS') "BOARD_DATE", MEMBER_ID ,ATTACHMENT_NAME, ATTACHMENT_PATH, COUNT, (SELECT COUNT(*) FROM COMMENTS WHERE BOARD.BOARD_NO=COMMENTS.BOARD_NO AND STATUS='N') "REPLY_COUNT"
FROM BOARD
JOIN MEMBER USING(MEMBER_NO)
WHERE DELETE_STATUS='N' AND WITHDRAW_STATUS ='N' AND BOARD_NO=?
	</entry>
	<entry key="insertBoard">
	INSERT INTO BOARD (BOARD_NO,BOARD_TITLE,BOARD_CONTENT,ATTACHMENT_PATH,ATTACHMENT_NAME,MEMBER_NO)
VALUES (SEQ_BNO.NEXTVAL, ?, ?, ?, ?, ?)
	</entry>
	<entry key="insertReply">
    INSERT INTO COMMENTS(COMMENT_NO, COMMENT_CONTENT,BOARD_NO, MEMBER_NO) VALUES (SEQ_RNO.NEXTVAL, ?, ?, ?)
    </entry>
    <entry key="selectReplyList">
    SELECT COMMENT_NO, COMMENT_CONTENT, MEMBER_ID, TO_CHAR(COMMENT_DATE, 'YYYY/MM/DD HH24:MI:SS') "COMMENT_DATE"
FROM COMMENTS
JOIN MEMBER USING (MEMBER_NO)
WHERE BOARD_NO=? AND STATUS='N' 
ORDER BY COMMENT_DATE DESC
    </entry>
    <entry key="deleteBoard">
    UPDATE BOARD SET DELETE_STATUS ='Y' WHERE BOARD_NO =?
    </entry>
    <entry key="updateBoard">
    UPDATE BOARD SET BOARD_TITLE=?, BOARD_CONTENT=?, ATTACHMENT_PATH=?, ATTACHMENT_NAME=?, BOARD_DATE=SYSDATE 
WHERE BOARD_NO=?
    </entry>

    <entry key="selectBoardList">
    SELECT * FROM NEW
    WHERE RNUM BETWEEN ? AND ?
    </entry>
    <entry key="selectBoardListCount">
    SELECT * FROM COUNT
    WHERE RNUM BETWEEN ? AND ?
    </entry>
    
    <entry key="boardSearchAllNew">
    SELECT * FROM NEW
WHERE (BOARD_TITLE || BOARD_CONTENT LIKE ?) AND RNUM BETWEEN ? AND ?
    </entry>
    <entry key="boardSearchTitleNew">
    SELECT * FROM NEW
WHERE BOARD_TITLE LIKE ? AND RNUM BETWEEN ? AND ?
    </entry>
    <entry key="boardSearchContentNew">
    SELECT * FROM NEW
WHERE BOARD_CONTENT LIKE ? AND RNUM BETWEEN ? AND ?
    </entry>
    <entry key="boardSearchIdNew">
    SELECT * FROM NEW
WHERE MEMBER_ID LIKE ? AND RNUM BETWEEN ? AND ?
    </entry>

    <entry key="boardSearchAllOld">
    SELECT * FROM COUNT
WHERE (BOARD_TITLE || BOARD_CONTENT LIKE ?) AND RNUM BETWEEN ? AND ?
    </entry>
    <entry key="boardSearchTitleOld">
    SELECT * FROM COUNT
WHERE BOARD_TITLE LIKE ? AND RNUM BETWEEN ? AND ?
    </entry>
    <entry key="boardSearchContentOld">
    SELECT * FROM COUNT
WHERE BOARD_CONTENT LIKE ? AND RNUM BETWEEN ? AND ?
    </entry>
    <entry key="boardSearchIdOld">
    SELECT * FROM COUNT
WHERE MEMBER_ID LIKE ? AND RNUM BETWEEN ? AND ?
    </entry>

    <entry key="deleteReply">
    UPDATE COMMENTS SET STATUS='Y' 
WHERE COMMENT_NO=? AND BOARD_NO=?
    </entry>
    <entry key="updateReply">
    UPDATE COMMENTS SET COMMENT_CONTENT=?
WHERE COMMENT_NO=? AND BOARD_NO=?
    </entry>
    <!--이전글-->
    <entry key="boardPrev">
    SELECT BOARD_NO ,PREV, NEXT
FROM (SELECT BOARD_NO ,LAG(BOARD_NO) OVER (ORDER BY BOARD_NO) PREV , LEAD(BOARD_NO) OVER (ORDER BY BOARD_NO) NEXT FROM BOARD WHERE DELETE_STATUS ='N')
WHERE BOARD_NO =?
    </entry>
    <entry key="boardNext">
    SELECT BOARD_NO ,PREV, NEXT
FROM (SELECT BOARD_NO ,LAG(BOARD_NO) OVER (ORDER BY BOARD_NO) PREV , LEAD(BOARD_NO) OVER (ORDER BY BOARD_NO) NEXT FROM BOARD WHERE DELETE_STATUS ='N')
WHERE BOARD_NO =?
    </entry>
</properties>
